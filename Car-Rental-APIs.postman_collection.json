{
	"info": {
		"_postman_id": "car-rental-api-collection",
		"name": "Car Rental Server APIs",
		"description": "Complete API collection for Car Rental Application",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000/api",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		},
		{
			"key": "carId",
			"value": "",
			"type": "string"
		},
		{
			"key": "bookingId",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "User APIs",
			"item": [
				{
					"name": "Register User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.token) {",
									"        pm.collectionVariables.set(\"token\", jsonData.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"testuser@example.com\",\n  \"password\": \"password123\",\n  \"phone\": \"9876543210\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/user/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"user",
								"register"
							]
						}
					}
				},
				{
					"name": "Login User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.token) {",
									"        pm.collectionVariables.set(\"token\", jsonData.token);",
									"        console.log(\"Token saved:\", jsonData.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"testuser@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/user/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"user",
								"login"
							]
						}
					}
				},
				{
					"name": "Get User Data",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/user/data",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"user",
								"data"
							]
						}
					}
				},
				{
					"name": "Get Available Cars",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/user/cars",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"user",
								"cars"
							]
						}
					}
				}
			]
		},
		{
			"name": "Owner APIs",
			"item": [
				{
					"name": "Change Role to Owner",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"role\": \"owner\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/owner/change-role",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owner",
								"change-role"
							]
						}
					}
				},
				{
					"name": "Add Car",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.car && jsonData.car._id) {",
									"        pm.collectionVariables.set(\"carId\", jsonData.car._id);",
									"        console.log(\"Car ID saved:\", jsonData.car._id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "image",
									"type": "file",
									"src": "",
									"description": "Select car image file"
								},
								{
									"key": "carData",
									"value": "{\"brand\":\"Toyota\",\"model\":\"Camry\",\"year\":2023,\"category\":\"Sedan\",\"seating_capacity\":5,\"fuel_type\":\"Petrol\",\"transmission\":\"Automatic\",\"pricePerDay\":50,\"location\":\"Mumbai, Maharashtra\",\"description\":\"Comfortable sedan for family trips\"}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/owner/add-car",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owner",
								"add-car"
							]
						}
					}
				},
				{
					"name": "Get Owner Cars",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.cars && jsonData.cars.length > 0) {",
									"        pm.collectionVariables.set(\"carId\", jsonData.cars[0]._id);",
									"        console.log(\"Car ID saved:\", jsonData.cars[0]._id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/owner/cars",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owner",
								"cars"
							]
						}
					}
				},
				{
					"name": "Toggle Car Availability",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"carId\": \"{{carId}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/owner/toggle-car",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owner",
								"toggle-car"
							]
						}
					}
				},
				{
					"name": "Delete Car",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"carId\": \"{{carId}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/owner/delete-car",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owner",
								"delete-car"
							]
						}
					}
				},
				{
					"name": "Get Owner Dashboard",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/owner/dashboard",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owner",
								"dashboard"
							]
						}
					}
				},
				{
					"name": "Update User Profile Image",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "image",
									"type": "file",
									"src": "",
									"description": "Select profile image"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/owner/update-image",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"owner",
								"update-image"
							]
						}
					}
				}
			]
		},
		{
			"name": "Booking APIs",
			"item": [
				{
					"name": "Check Car Availability",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"location\": \"Mumbai, Maharashtra\",\n  \"pickupDate\": \"2025-12-20\",\n  \"returnDate\": \"2025-12-25\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/check-availability",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"check-availability"
							]
						}
					}
				},
				{
					"name": "Create Booking",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.booking && jsonData.booking._id) {",
									"        pm.collectionVariables.set(\"bookingId\", jsonData.booking._id);",
									"        console.log(\"Booking ID saved:\", jsonData.booking._id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"car\": \"{{carId}}\",\n  \"pickupDate\": \"2025-12-20\",\n  \"returnDate\": \"2025-12-25\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/create",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"create"
							]
						}
					}
				},
				{
					"name": "Get User Bookings",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.bookings && jsonData.bookings.length > 0) {",
									"        pm.collectionVariables.set(\"bookingId\", jsonData.bookings[0]._id);",
									"        console.log(\"Booking ID saved:\", jsonData.bookings[0]._id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/bookings/user",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"user"
							]
						}
					}
				},
				{
					"name": "Get Owner Bookings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/bookings/owner",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"owner"
							]
						}
					}
				},
				{
					"name": "Change Booking Status",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bookingId\": \"{{bookingId}}\",\n  \"status\": \"confirmed\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/bookings/change-status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"bookings",
								"change-status"
							]
						}
					}
				}
			]
		},
		{
			"name": "Server Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:3000/",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						""
					]
				}
			}
		}
	]
}
